# üé¥ –ö–æ–ª–µ–∫—Ü—ñ–π–Ω—ñ –∫–∞—Ä—Ç–∫–∏ ‚Äî Design & Tech Specification

## –í–µ—Ä—Å—ñ—è
v1.0 (initial)

## –°—Ç–∞—Ç—É—Å
Approved for implementation

---

## 1. –ú–µ—Ç–∞ –º–µ—Ö–∞–Ω—ñ–∫–∏

–ö–æ–ª–µ–∫—Ü—ñ–π–Ω—ñ –∫–∞—Ä—Ç–∫–∏ –∑–∞–º—ñ–Ω—é—é—Ç—å –ø—Ä—è–º–µ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫—É–ø–æ–Ω—ñ–≤ –∑ –±–æ–Ω—É—Å–Ω–∏—Ö —Ä—ñ–≤–Ω—ñ–≤ –Ω–∞
–¥–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤—É –º–µ—Ç–∞-–ø—Ä–æ–≥—Ä–µ—Å—ñ—é.

–¶—ñ–ª—ñ:
- –ø—ñ–¥–≤–∏—â–∏—Ç–∏ –º–æ—Ç–∏–≤–∞—Ü—ñ—é –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è –±–æ–Ω—É—Å–Ω–∏—Ö —Ä—ñ–≤–Ω—ñ–≤;
- —Å—Ç–≤–æ—Ä–∏—Ç–∏ –≤—ñ–¥—á—É—Ç—Ç—è –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è —Ç–∞ –Ω–∞–ø—Ä—É–≥–∏ (random + pity);
- –∑–º–µ–Ω—à–∏—Ç–∏ —á–∞—Å—Ç–æ—Ç—É –ø—Ä—è–º–∏—Ö —Ä–µ–∞–ª—å–Ω–∏—Ö –Ω–∞–≥–æ—Ä–æ–¥ –±–µ–∑ –≤—Ç—Ä–∞—Ç–∏ —Ü—ñ–Ω–Ω–æ—Å—Ç—ñ;
- –¥–æ–∑–≤–æ–ª–∏—Ç–∏ –≥–Ω—É—á–∫–µ –±–∞–ª–∞–Ω—Å—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ—ñ–≥–∏.

---

## 2. Core Loop


–ë–æ–Ω—É—Å–Ω–∏–π —Ä—ñ–≤–µ–Ω—å ‚Üí –ü–µ—Ä–µ–º–æ–≥–∞
‚Üí –í–∏–±—ñ—Ä 1 –∑ 2 –∑–∞–∫—Ä–∏—Ç–∏—Ö –∫–∞—Ä—Ç–æ–∫
‚Üí –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–∞—Ä—Ç–∫–∏
‚Üí –ü—Ä–æ–≥—Ä–µ—Å —É –∫–æ–ª–µ–∫—Ü—ñ—è—Ö
‚Üí (6/6) ‚Üí –†—É—á–Ω–∏–π –æ–±–º—ñ–Ω ‚Üí –ö—É–ø–æ–Ω

–ö–ª—é—á–æ–≤–µ –ø—Ä–∞–≤–∏–ª–æ:
> **1 –±–æ–Ω—É—Å–Ω–∏–π —Ä—ñ–≤–µ–Ω—å = 1 –∫–∞—Ä—Ç–∫–∞ (—Ç—ñ–ª—å–∫–∏ –∑–∞ –ø–µ—Ä–µ–º–æ–≥—É)**

---

## 3. –ö–æ–ª–µ–∫—Ü—ñ—ó

### –ê–∫—Ç–∏–≤–Ω—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó (–ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ)

| –ö–æ–ª–µ–∫—Ü—ñ—è | –û–ø–∏—Å | –ù–∞–≥–æ—Ä–æ–¥–∞ | –ì–ª–æ–±–∞–ª—å–Ω–∏–π –º–Ω–æ–∂–Ω–∏–∫ |
|--------|------|----------|-------------------|
| **–ö–∞–≤–∞** | –±–∞–∑–æ–≤–∞ | –ë–µ–∑–ª—ñ–º—ñ—Ç –∫–∞–≤–∏ –Ω–∞ 7 –¥–Ω—ñ–≤ | `1.0` |
| **–á–∂–∞** | –∞–Ω–∞–ª–æ–≥ –∫–∞–≤–∏ | -20% –Ω–∞ —Ö–æ—Ç-–¥–æ–≥–∏ (5 –¥–Ω—ñ–≤) | `1.0` |
| **–ú–∞—à–∏–Ω–∫–∏** | —É–ª—å—Ç—Ä–∞-—Ä—ñ–¥–∫—ñ—Å–Ω–∞ | –í–∏–≥—Ä–∞—Ç–∏ –∞–≤—Ç–æ –∑ —Å–∞–ª–æ–Ω—É | `0.3` |

–£—Å—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó –º–æ–∂—É—Ç—å –≤–∏–ø–∞–¥–∞—Ç–∏ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ.

–ö–∞—Ä—Ç–∫–∏ –∑ –∫–æ–ª–µ–∫—Ü—ñ–π –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è –≤ /assets/collections.

---

## 4. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–ª–µ–∫—Ü—ñ—ó

–ö–æ–∂–Ω–∞ –∫–æ–ª–µ–∫—Ü—ñ—è —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ **6 –∫–∞—Ä—Ç–æ–∫**:

| –†—ñ–¥–∫—ñ—Å—Ç—å | –ö—ñ–ª—å–∫—ñ—Å—Ç—å |
|--------|-----------|
| –ó–≤–∏—á–∞–π–Ω–∞ | 2 |
| –†—ñ–¥–∫—ñ—Å–Ω–∞ | 2 |
| –ï–ø—ñ—á–Ω–∞ | 1 |
| –õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–∞ | 1 |

---

## 5. –ö–∞—Ä—Ç–∫–∏ —Ç–∞ –¥—É–±–ª—ñ

- –ö–∞—Ä—Ç–∫–∏ **–º–æ–∂—É—Ç—å –ø–æ–≤—Ç–æ—Ä—é–≤–∞—Ç–∏—Å—å** –±–µ–∑ –æ–±–º–µ–∂–µ–Ω—å.
- –î—É–±–ª—ñ **–Ω–µ –º–∞—é—Ç—å –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó —Ü—ñ–Ω–Ω–æ—Å—Ç—ñ**.
- –î—É–±–ª—ñ **–∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è** –Ω–∞–≤—ñ—Ç—å –ø—ñ—Å–ª—è –æ–±–º—ñ–Ω—É –∫–æ–ª–µ–∫—Ü—ñ—ó.
- –í—ñ–¥—Å—É—Ç–Ω—ñ –∫–∞—Ä—Ç–∫–∏ –º–∞—é—Ç—å **—Ç—Ä–æ—Ö–∏ –∑–Ω–∏–∂–µ–Ω–∏–π —à–∞–Ω—Å**, –∞–ª–µ –Ω–µ –Ω–∏–∂—á–µ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ä–æ–≥—É.

---

## 6. –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–∞—Ä—Ç–∫–∏

### –£–º–æ–≤–∞
- –ö–∞—Ä—Ç–∫–∞ –≤–∏–¥–∞—î—Ç—å—Å—è **—Ç—ñ–ª—å–∫–∏ –∑–∞ –ø–µ—Ä–µ–º–æ–≥—É** —É –±–æ–Ω—É—Å–Ω–æ–º—É —Ä—ñ–≤–Ω—ñ.

### UX-—Ñ–ª–æ—É
1. –ì—Ä–∞–≤—Ü—é –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è **2 –∑–∞–∫—Ä–∏—Ç—ñ –∫–∞—Ä—Ç–∫–∏**.
2. –ì—Ä–∞–≤–µ—Ü—å –æ–±–∏—Ä–∞—î –æ–¥–Ω—É.
3. –û–±—Ä–∞–Ω–∞ –∫–∞—Ä—Ç–∫–∞ –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è.
4. –î—Ä—É–≥–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç **—Ç–∞–∫–æ–∂ –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è** (‚Äú—â–æ –º–æ–≥–ª–æ –±—É—Ç–∏‚Äù).
5. –û–±—Ä–∞–Ω–∞ –∫–∞—Ä—Ç–∫–∞ –¥–æ–¥–∞—î—Ç—å—Å—è –≤ —ñ–Ω–≤–µ–Ω—Ç–∞—Ä.

---

## 7. –®–∞–Ω—Å–∏ –≤–∏–ø–∞–¥—ñ–Ω–Ω—è

### –ë–∞–∑–æ–≤—ñ –ø—Ä–∏–Ω—Ü–∏–ø–∏
- –†—ñ–¥–∫—ñ—Å—Ç—å –≤–ø–ª–∏–≤–∞—î –Ω–∞ —à–∞–Ω—Å –≤–∏–ø–∞–¥—ñ–Ω–Ω—è.
- –ö–æ–ª–µ–∫—Ü—ñ—è –º–∞—î –≤–ª–∞—Å–Ω–∏–π –≥–ª–æ–±–∞–ª—å–Ω–∏–π –º–Ω–æ–∂–Ω–∏–∫.
- –í—ñ–¥—Å—É—Ç–Ω—ñ –∫–∞—Ä—Ç–∫–∏ –º–æ–∂—É—Ç—å –º–∞—Ç–∏ –∑–Ω–∏–∂–µ–Ω–∏–π —à–∞–Ω—Å, –∞–ª–µ –Ω–µ –Ω–∏–∂—á–µ –ø–æ—Ä–æ–≥—É.

### –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –º–Ω–æ–∂–Ω–∏–∫ –¥–ª—è –≤—ñ–¥—Å—É—Ç–Ω—ñ—Ö –∫–∞—Ä—Ç–æ–∫
```yaml
missing_card_floor_multiplier: 0.8
````

---

## 8. Pity Mechanic (–≥–∞—Ä–∞–Ω—Ç—ñ—è –ø—Ä–æ–≥—Ä–µ—Å—É)

### –õ–æ–≥—ñ–∫–∞

–Ø–∫—â–æ –≥—Ä–∞–≤–µ—Ü—å –æ—Ç—Ä–∏–º—É—î **–¥—É–±–ª—ñ–∫–∞—Ç–Ω—ñ –∫–∞—Ä—Ç–∫–∏ N —Ä–∞–∑—ñ–≤ –ø–æ—Å–ø—ñ–ª—å**:

* –Ω–∞—Å—Ç—É–ø–Ω–∞ –∫–∞—Ä—Ç–∫–∞ **–≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –±—É–¥–µ –Ω–æ–≤–æ—é** (—è–∫—â–æ –≤ –∫–æ–ª–µ–∫—Ü—ñ—ó —â–µ —î –≤—ñ–¥—Å—É—Ç–Ω—ñ);
* —Ä—ñ–¥–∫—ñ—Å—Ç—å **–Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—î—Ç—å—Å—è**.

### –î–µ—Ñ–æ–ª—Ç–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏

```yaml
pity:
  enabled: true
  threshold: 3
  epic_multiplier: 1.5
  legendary_multiplier: 1.15
```

Pity **–ª–∏—à–µ –ø—ñ–¥–≤–∏—â—É—î —à–∞–Ω—Å–∏**, –∞–ª–µ –Ω–µ –¥–∞—î 100% –≥–∞—Ä–∞–Ω—Ç—ñ—ó –µ–ø—ñ—á–Ω–æ—ó –∞–±–æ –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ—ó –∫–∞—Ä—Ç–∫–∏.

---

## 9. –û–±–º—ñ–Ω –∫–æ–ª–µ–∫—Ü—ñ—ó –Ω–∞ –∫—É–ø–æ–Ω

### –£–º–æ–≤–∏

* –ö–æ–ª–µ–∫—Ü—ñ—è –º–∞—î –±—É—Ç–∏ –∑—ñ–±—Ä–∞–Ω–∞ **6/6**.
* –û–±–º—ñ–Ω —ñ–Ω—ñ—Ü—ñ—é—î—Ç—å—Å—è **–≤—Ä—É—á–Ω—É** –∑ –µ–∫—Ä–∞–Ω–∞ –∫–æ–ª–µ–∫—Ü—ñ–π.
* –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º **–±–µ–∑ –ª—ñ–º—ñ—Ç—ñ–≤** –Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –æ–±–º—ñ–Ω—ñ–≤.

### –ü–æ–≤–µ–¥—ñ–Ω–∫–∞ –ø—ñ—Å–ª—è –æ–±–º—ñ–Ω—É

* –°–ø–∏—Å—É—é—Ç—å—Å—è **—Ä—ñ–≤–Ω–æ 6 –∫–∞—Ä—Ç–æ–∫** —Ü—ñ—î—ó –∫–æ–ª–µ–∫—Ü—ñ—ó.
* –£—Å—ñ —ñ–Ω—à—ñ –¥—É–±–ª—ñ–∫–∞—Ç–∏ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è.
* –ö–æ–ª–µ–∫—Ü—ñ—é –º–æ–∂–Ω–∞ –∑–±–∏—Ä–∞—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ.

---

## 10. UX –æ–±–º—ñ–Ω—É (–∞–Ω—ñ–º–∞—Ü—ñ—è)

–ü—Ä–∏ –æ–±–º—ñ–Ω—ñ:

1. –ö–∞—Ä—Ç–∫–∏ –∑–≥–æ—Ä—Ç–∞—é—Ç—å—Å—è –≤ **—Å—Ç–æ—Å**.
2. –í—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è **—Å—Ç–∏—Å–Ω–µ–Ω–Ω—è / –∑–∞—Ä—è–¥**.
3. –í–∏–±—É—Ö / —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è.
4. –ü–æ–∫–∞–∑ –∫—É–ø–æ–Ω–∞.
5. –ö–Ω–æ–ø–∫–∞ **‚Äú–ó–∞–±—Ä–∞—Ç–∏ –∫—É–ø–æ–Ω‚Äù**.

–ì—Ä–∞–≤–µ—Ü—å –º–æ–∂–µ **–≤—ñ–¥–∫–ª–∞—Å—Ç–∏ –æ–±–º—ñ–Ω** —ñ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—å –¥–æ –Ω—å–æ–≥–æ –ø—ñ–∑–Ω—ñ—à–µ.

---

## 11. –ï–∫—Ä–∞–Ω ‚Äú–ö–æ–ª–µ–∫—Ü—ñ—ó‚Äù

### –î–æ—Å—Ç—É–ø

–ß–µ—Ä–µ–∑ –Ω–∏–∂–Ω—é –Ω–∞–≤—ñ–≥–∞—Ü—ñ–π–Ω—É –ø–∞–Ω–µ–ª—å:

* –†—ñ–≤–Ω—ñ
* –ö–æ–ª–µ–∫—Ü—ñ—ó
* –ú–∞–≥–∞–∑–∏–Ω

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞

* –£—Å—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó –ø–æ–∫–∞–∑—É—é—Ç—å—Å—è **–Ω–∞ –æ–¥–Ω–æ–º—É –µ–∫—Ä–∞–Ω—ñ**.
* –î–ª—è –∫–æ–∂–Ω–æ—ó –∫–æ–ª–µ–∫—Ü—ñ—ó:

  * –Ω–∞–∑–≤–∞;
  * –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å –Ω–∞–≥–æ—Ä–æ–¥–∏;
  * —Å—ñ—Ç–∫–∞ –∑ 6 –∫–∞—Ä—Ç–æ–∫;
  * –ø—Ä–æ–≥—Ä–µ—Å `X / 6`;
  * –∫–Ω–æ–ø–∫–∞ **‚Äú–û–±–º—ñ–Ω—è—Ç–∏ –Ω–∞ –∫—É–ø–æ–Ω‚Äù** (—è–∫—â–æ –¥–æ—Å—Ç—É–ø–Ω–æ).

### –°—Ç–∞–Ω–∏ –∫–∞—Ä—Ç–æ–∫

* –ù–µ –∑—ñ–±—Ä–∞–Ω–∞: **—Å–∏–ª—É–µ—Ç / grayscale + ‚Äú?‚Äù**
* –ó—ñ–±—Ä–∞–Ω–∞: –ø–æ–≤–Ω–æ–∫–æ–ª—å–æ—Ä–æ–≤–∞
* –î—É–±–ª—ñ–∫–∞—Ç–∏ –≤ UI –Ω–µ –≤–∏–¥—ñ–ª—è—é—Ç—å—Å—è –æ–∫—Ä–µ–º–æ

---

## 12. –Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏

* –ü—Ä–æ–≥—Ä–µ—Å `X/6` **–Ω–µ –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è** –ø–æ–∑–∞ –µ–∫—Ä–∞–Ω–æ–º –∫–æ–ª–µ–∫—Ü—ñ–π.
* –Ø–∫—â–æ —î —Ö–æ—á–∞ –± –æ–¥–Ω–∞ –∫–æ–ª–µ–∫—Ü—ñ—è **–≥–æ—Ç–æ–≤–∞ –¥–æ –æ–±–º—ñ–Ω—É** ‚Äî
  —ñ–∫–æ–Ω–∫–∞ ‚Äú–ö–æ–ª–µ–∫—Ü—ñ—ó‚Äù —É –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó –ø—ñ–¥—Å–≤—ñ—á—É—î—Ç—å—Å—è **—ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º `‚Ä¢`**.

---

## 13. –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó (–ø—Ä–∏–∫–ª–∞–¥)

```yaml
collections:
  coffee:
    multiplier: 1.0
    reward: "–ë–µ–∑–ª—ñ–º—ñ—Ç –∫–∞–≤–∏ –Ω–∞ 7 –¥–Ω—ñ–≤"
  food:
    multiplier: 1.0
    reward: "-20% –Ω–∞ —Ö–æ—Ç-–¥–æ–≥–∏ –ø—Ä–æ—Ç—è–≥–æ–º 5 –¥–Ω—ñ–≤"
  cars:
    multiplier: 0.3
    reward: "–í–∏–≥—Ä–∞—Ç–∏ –∞–≤—Ç–æ –∑ —Å–∞–ª–æ–Ω—É"

rarities:
  common:
    count: 2
    base_chance: 0.5
  rare:
    count: 2
    base_chance: 0.3
  epic:
    count: 1
    base_chance: 0.15
  legendary:
    count: 1
    base_chance: 0.05
```

---

## 14. Edge Cases

* –£—Å—ñ –∫–∞—Ä—Ç–∫–∏ –∑—ñ–±—Ä–∞–Ω—ñ, –∞–ª–µ –≥—Ä–∞–≤–µ—Ü—å –Ω–µ –æ–±–º—ñ–Ω—é—î ‚Äî —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–±—ñ–ª—å–Ω–∞.
* Pity –∞–∫—Ç–∏–≤–Ω–∏–π, –∞–ª–µ –ª–∏—à–∏–ª–∞—Å—å –ª–∏—à–µ legendary ‚Äî —à–∞–Ω—Å ‚Üë, –±–µ–∑ –≥–∞—Ä–∞–Ω—Ç—ñ—ó.
* –£–ª—å—Ç—Ä–∞-—Ä—ñ–¥–∫—ñ—Å–Ω—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó –º–æ–∂—É—Ç—å –Ω–µ –ø–∞–¥–∞—Ç–∏ –¥–æ–≤–≥–æ ‚Äî –æ—á—ñ–∫—É–≤–∞–Ω–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞.
* –ö–æ–Ω—Ñ—ñ–≥ –º–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –±–∞–ª–∞–Ω—Å –±–µ–∑ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞.

---

## 15. –°–≤—ñ–¥–æ–º–æ –ø–æ–∑–∞ —Å–∫–æ—É–ø–æ–º

* –ê–Ω–∞–ª—ñ—Ç–∏—á–Ω—ñ –ø–æ–¥—ñ—ó
* –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤
* –¢—É—Ç–æ—Ä—ñ–∞–ª
* –ü—Ä–æ–≥—Ä–µ—Å-–±–µ–π–¥–∂—ñ —Ç–∏–ø—É `3/6` —É HUD

---

## 16. Definition of Done

* –ì—Ä–∞–≤–µ—Ü—å —Ä–æ–∑—É–º—ñ—î, —â–æ –∑–±–∏—Ä–∞—î —ñ –Ω–∞–≤—ñ—â–æ.
* –ú–µ—Ö–∞–Ω—ñ–∫–∞ –Ω–µ —Ç–∏—Å–Ω–µ, –∞–ª–µ —Ç—Ä–∏–º–∞—î.
* –ö—É–ø–æ–Ω–∏ –Ω–µ –≤–∏–¥–∞—é—Ç—å—Å—è –Ω–∞–ø—Ä—è–º—É.
* –£—Å—ñ –∫–ª—é—á–æ–≤—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∫–µ—Ä—É—é—Ç—å—Å—è –∫–æ–Ω—Ñ—ñ–≥–æ–º.

---
