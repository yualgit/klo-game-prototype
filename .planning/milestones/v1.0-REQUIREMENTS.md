# Requirements Archive: v1.0 MVP

**Archived:** 2026-02-10
**Status:** SHIPPED

For current requirements, see `.planning/REQUIREMENTS.md`.

---

# Requirements: KLO Match-3 Demo

**Defined:** 2026-02-05
**Core Value:** Клієнт має побачити і відчути gameplay — playable demo для презентації

## v1 Requirements

### Core Mechanics

- [x] **CORE-01**: Гравець може обміняти місцями дві сусідні фішки (tap/swipe)
- [x] **CORE-02**: 3+ однакових фішки в ряд/колонку автоматично зникають
- [x] **CORE-03**: Після зникнення фішки падають вниз (gravity)
- [x] **CORE-04**: Нові фішки з'являються зверху (spawn за ймовірностями з level JSON)
- [x] **CORE-05**: Каскадні матчі працюють автоматично до стабілізації (з depth limit)
- [x] **CORE-06**: Визначення відсутності валідних ходів + автоматичне перемішування

### Tile Types

- [x] **TILE-01**: Паливо (fuel) — жовта крапля
- [x] **TILE-02**: Кава (coffee) — коричневий стакан
- [x] **TILE-03**: Снеки (snack) — упаковка
- [x] **TILE-04**: Дорога (road) — дорожній знак

### Boosters

- [x] **BOOST-01**: Лінійний бустер (4 в ряд) — чистить ряд або колонку
- [x] **BOOST-02**: Бомба (5 в Г/Т форму) — вибух 3×3
- [x] **BOOST-03**: Ракета (комбо двох лінійних) — чистить хрест (ряд + колонка)
- [x] **BOOST-04**: KLO-сфера (5 в ряд) — знищує всі фішки одного типу
- [x] **BOOST-05**: Комбо бустерів — взаємодія між бустерами при swap

### Obstacles

- [x] **OBST-01**: Лід (ice) — 1-2 удари для знищення, тайл під льодом заблокований
- [x] **OBST-02**: Бруд (dirt) — 1 удар, блокує фішку
- [x] **OBST-03**: Ящик (crate) — 2-3 удари, знищується від сусідніх матчів
- [x] **OBST-04**: Заблокована клітинка (blocked) — фішки не розміщуються

### Levels

- [x] **LVL-01**: Рівні L1-5 завантажуються з JSON файлів
- [x] **LVL-02**: Цілі рівня відображаються (збір фішок, знищення перешкод, створення бустерів)
- [x] **LVL-03**: Лічильник ходів працює та зменшується при swap
- [x] **LVL-04**: Win при виконанні всіх цілей (до вичерпання ходів)
- [x] **LVL-05**: Lose при закінченні ходів без виконання всіх цілей

### UI Screens

- [x] **UI-01**: Ігрове поле 8×8 з анімованими фішками
- [x] **UI-02**: HUD — панель цілей + лічильник ходів
- [x] **UI-03**: Екран перемоги з результатом та кнопкою "далі"
- [x] **UI-04**: Екран поразки з кнопкою retry
- [x] **UI-05**: Меню вибору рівня (L1-5) з індикацією пройдених
- [x] **UI-06**: Мок UI отримання купона (після перемоги на L5)

### Firebase

- [x] **FB-01**: Анонімна авторизація (автоматичний вхід без реєстрації)
- [x] **FB-02**: Збереження прогресу в Firestore (пройдені рівні, поточний рівень)

### Assets

- [x] **ASSET-01**: AI-generated тайли (4 типи) по STYLE_GUIDE.md
- [x] **ASSET-02**: AI-generated бустери (4 типи)
- [x] **ASSET-03**: AI-generated перешкоди (лід, бруд, ящик, blocked)
- [x] **ASSET-04**: Базові UI елементи (кнопки, картки, фони)
- [x] **ASSET-05**: Фон ігрового поля

## v2 Requirements

### Analytics
- **ANAL-01**: Firebase Analytics — level_start, level_win, level_fail
- **ANAL-02**: Booster usage tracking
- **ANAL-03**: Session tracking

### Meta-game
- **META-01**: Карта рівнів з прогресією
- **META-02**: Щоденні місії
- **META-03**: Стріки активності

### Coupon System
- **COUP-01**: Cloud Functions для генерації купонів
- **COUP-02**: Реальна система redemption
- **COUP-03**: Антифрод перевірки

### Polish
- **POL-01**: Звукові ефекти та музика
- **POL-02**: Hint system (підказка після N секунд)
- **POL-03**: Картки між рівнями
- **POL-04**: Фрази підтримки (з GAME_DESIGN.md)

## Out of Scope

| Feature | Reason |
|---------|--------|
| Об'єкти доставки (канистры) | З'являються з L8+, не потрібні для L1-5 |
| Phone auth / loyalty_id | Не для демо |
| Remote Config | Статичні JSON достатні для прототипу |
| Рівні L6-20 | 5 рівнів достатньо для демо |
| Level generator | Ручні рівні для прототипу |
| A/B тести | Потрібна аудиторія |
| Real-time multiplayer | Не в скоупі продукту |
| In-app purchases | Безкоштовна гра з купонами |

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| CORE-01 | Phase 2 | Complete |
| CORE-02 | Phase 2 | Complete |
| CORE-03 | Phase 2 | Complete |
| CORE-04 | Phase 2 | Complete |
| CORE-05 | Phase 2 | Complete |
| CORE-06 | Phase 2 | Complete |
| TILE-01 | Phase 2 | Complete |
| TILE-02 | Phase 2 | Complete |
| TILE-03 | Phase 2 | Complete |
| TILE-04 | Phase 2 | Complete |
| BOOST-01 | Phase 3 | Complete |
| BOOST-02 | Phase 3 | Complete |
| BOOST-03 | Phase 3 | Complete |
| BOOST-04 | Phase 3 | Complete |
| BOOST-05 | Phase 3 | Complete |
| OBST-01 | Phase 3 | Complete |
| OBST-02 | Phase 3 | Complete |
| OBST-03 | Phase 3 | Complete |
| OBST-04 | Phase 3 | Complete |
| LVL-01 | Phase 3 | Complete |
| LVL-02 | Phase 3 | Complete |
| LVL-03 | Phase 3 | Complete |
| LVL-04 | Phase 3 | Complete |
| LVL-05 | Phase 3 | Complete |
| UI-01 | Phase 4 | Complete |
| UI-02 | Phase 4 | Complete |
| UI-03 | Phase 4 | Complete |
| UI-04 | Phase 4 | Complete |
| UI-05 | Phase 4 | Complete |
| UI-06 | Phase 4 | Complete |
| FB-01 | Phase 1 | Complete |
| FB-02 | Phase 1 | Complete |
| ASSET-01 | Phase 5 | Complete |
| ASSET-02 | Phase 5 | Complete |
| ASSET-03 | Phase 5 | Complete |
| ASSET-04 | Phase 1 | Complete |
| ASSET-05 | Phase 1 | Complete |

**Coverage:**
- v1 requirements: 37 total
- Mapped to phases: 37 (100%)
- Unmapped: 0

---
*Requirements defined: 2026-02-05*
*Last updated: 2026-02-05 after roadmap creation*
